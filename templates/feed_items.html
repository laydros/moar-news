{% for item in items %}
<li class="item">
    <a href="{{ item.link }}" target="_blank" rel="noopener" class="item-link">
        {{ item.title }}
    </a>
    {% if let Some(discussion) = item.discussion_link %}
    <a href="{{ discussion }}" target="_blank" rel="noopener" class="discussion-link" title="Discussion">
        <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor">
            <path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"/>
        </svg>
    </a>
    {% endif %}
</li>
{% endfor %}

<div id="feed-{{ feed.id }}-more" hx-swap-oob="true">
{% if has_more %}
    <button
        hx-get="/feed/{{ feed.id }}/more?offset={{ offset }}"
        hx-target="#feed-{{ feed.id }}-items"
        hx-swap="beforeend"
        hx-select="li"
        hx-select-oob="#feed-{{ feed.id }}-more"
        class="load-more-btn"
    >
        Show More
    </button>
{% endif %}
</div>
